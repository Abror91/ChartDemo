@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

<div id="chartdiv" style="width: 900px; height: 800px;"></div>

@section Scripts{

    <script src="//www.amcharts.com/lib/4/core.js"></script>
    <script src="//www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

    <script>
        // Create chart instance
        var chart = am4core.create(document.getElementById("chartdiv"), am4charts.PieChart);

        // Create pie series
        var series = chart.series.push(new am4charts.PieSeries());
        series.dataFields.value = "value";
        series.dataFields.category = "name";

        chart.dataSource.url = 'http://localhost:20001/home/GetCategories'
        chart.dataSource.parser = new am4core.JSONParser();
        // Add data
        //chart.data = [{
        //    "country": "Lithuania",
        //    "litres": 501.9
        //}, {
        //    "country": "Czech Republic",
        //    "litres": 301.9
        //}, {
        //    "country": "Ireland",
        //    "litres": 201.1
        //}, {
        //    "country": "Germany",
        //    "litres": 165.8
        //}, {
        //    "country": "Australia",
        //    "litres": 139.9
        //}, {
        //    "country": "Austria",
        //    "litres": 128.3
        //}, {
        //    "country": "UK",
        //    "litres": 99
        //}, {
        //    "country": "Belgium",
        //    "litres": 60
        //}, {
        //    "country": "The Netherlands",
        //    "litres": 50
        //}];

        // And, for a good measure, let's add a legend
        chart.legend = new am4charts.Legend();
    </script>
}